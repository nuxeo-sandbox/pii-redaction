<!--
***
STUDIO CODE SPACE
***
Studio will use this file to generate your configuration.
You may tweak it, but note that any configuration seen as invalid by Studio will automatically be removed.

Should you wish to add custom code, we recommend using the nuxeo-pii-redaction-custom-bundle.html file instead.
-->

<link rel="import" href="nuxeo-pii-redaction-custom-bundle.html">
<link rel="import" href="nuxeo-pii-redaction-iconset.html">
<link rel="import" href="elements/piir-sdp-scan-result-tab.html">
<!-- Contribution of element 'nuxeo-operation-button' for slot 'DOCUMENT_ACTIONS' -->
<nuxeo-slot-content name="piir-cleanupData" slot="DOCUMENT_ACTIONS" order="30001">
  <template>
    <nuxeo-filter document="[[document]]" facet="DataLossPrevention" group="administrators" user="[[user]]">
      <template>
        <nuxeo-operation-button icon="icons:remove-circle" label="Remove DLP Data" tooltip="Remove DLP Data" operation="javascript.piir_api_DLP_CleanupData" input="[[document]]" notification="DLP Data reset" event="document-updated"></nuxeo-operation-button>
      </template>
    </nuxeo-filter>
  </template>
</nuxeo-slot-content>
<!-- Contribution of element 'nuxeo-operation-button' for slot 'DOCUMENT_ACTIONS' -->
<nuxeo-slot-content name="piir-scan" slot="DOCUMENT_ACTIONS" order="3000">
  <template>
    <nuxeo-filter document="[[document]]" expression="document.properties[&quot;file:content&quot;] !&#x3D; null" group="administrators" user="[[user]]">
      <template>
        <nuxeo-operation-button icon="pii-redaction:securitySectionIcon" label="Sensitive Data Protection Scan" tooltip="Sensitive Data Protection Scan" operation="javascript.piir_api_DLP_Process" input="[[document]]" response="Sensitive Data Protection Scan Complete" notification="SDP Scan Complete." event="document-updated"></nuxeo-operation-button>
      </template>
    </nuxeo-filter>
  </template>
</nuxeo-slot-content>
<!-- Contribution of element 'nuxeo-page-item' for slot 'DOCUMENT_VIEWS_ITEMS' -->
<nuxeo-slot-content name="piir-sdpTab" slot="DOCUMENT_VIEWS_ITEMS" order="3000">
  <template>
    <nuxeo-filter document="[[document]]" facet="DataLossPrevention" group="administrators" user="[[user]]">
      <template>
        <nuxeo-page-item name="piir-sdptab" label="SDP Scan Results"></nuxeo-page-item>
      </template>
    </nuxeo-filter>
  </template>
</nuxeo-slot-content>
<!-- Contribution of element 'piir-sdp-scan-result-tab' for slot 'DOCUMENT_VIEWS_PAGES' -->
<nuxeo-slot-content name="piir-sdpTab" slot="DOCUMENT_VIEWS_PAGES">
  <template>
    <piir-sdp-scan-result-tab document="[[document]]" name="piir-sdptab"></piir-sdp-scan-result-tab>
  </template>
</nuxeo-slot-content>

